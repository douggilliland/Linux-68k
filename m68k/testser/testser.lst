68K GAS  testser.s 			page 1


   1               	#NO_APP
   2               		.file	"testser.c"
   3               		.text
   4               		.section	.rodata
   5               	.LC0:
   6 0000 5465 7374 		.string	"Test String 1"
   6      2053 7472 
   6      696E 6720 
   6      3100 
   7               	.LC1:
   8 000e 5465 7374 		.string	"Test String 2"
   8      2053 7472 
   8      696E 6720 
   8      3200 
   9               		.text
  10               		.align	2
  11               		.globl	_start
  12               		.type	_start, @function
  13               	_start:
  14 0000 4E56 0000 		link.w %fp,#0
  15 0004 4879 0000 		pea .LC0
  15      0000 
  16 000a 4EBA 004E 		jsr printStringToACIA
  17 000e 588F      		addq.l #4,%sp
  18 0010 4879 0000 		pea .LC1
  18      0000 
  19 0016 4EBA 00B8 		jsr printStringToVDU
  20 001a 588F      		addq.l #4,%sp
  21 001c 4E71      		nop
  22 001e 4E5E      		unlk %fp
  23 0020 4E75      		rts
  24               		.size	_start, .-_start
  25               		.align	2
  26               		.globl	printCharToACIA
  27               		.type	printCharToACIA, @function
  28               	printCharToACIA:
  29 0022 4E56 FFFC 		link.w %fp,#-4
  30 0026 202E 0008 		move.l 8(%fp),%d0
  31 002a 1000      		move.b %d0,%d0
  32 002c 1D40 FFFE 		move.b %d0,-2(%fp)
  33 0030 4E71      		nop
  34               	.L3:
  35 0032 207C 0001 		move.l #65601,%a0
  35      0041 
  36 0038 1010      		move.b (%a0),%d0
  37 003a 1000      		move.b %d0,%d0
  38 003c 0280 0000 		and.l #255,%d0
  38      00FF 
  39 0042 7202      		moveq #2,%d1
  40 0044 C081      		and.l %d1,%d0
  41 0046 4A80      		tst.l %d0
  42 0048 67E8      		jeq .L3
  43 004a 207C 0001 		move.l #65603,%a0
  43      0043 
  44 0050 10AE FFFE 		move.b -2(%fp),(%a0)
  45 0054 4E71      		nop
  46 0056 4E5E      		unlk %fp
68K GAS  testser.s 			page 2


  47 0058 4E75      		rts
  48               		.size	printCharToACIA, .-printCharToACIA
  49               		.align	2
  50               		.globl	printStringToACIA
  51               		.type	printStringToACIA, @function
  52               	printStringToACIA:
  53 005a 4E56 FFFC 		link.w %fp,#-4
  54 005e 42AE FFFC 		clr.l -4(%fp)
  55 0062 601C      		jra .L5
  56               	.L6:
  57 0064 202E FFFC 		move.l -4(%fp),%d0
  58 0068 206E 0008 		move.l 8(%fp),%a0
  59 006c D1C0      		add.l %d0,%a0
  60 006e 1010      		move.b (%a0),%d0
  61 0070 1000      		move.b %d0,%d0
  62 0072 0280 0000 		and.l #255,%d0
  62      00FF 
  63 0078 2F00      		move.l %d0,-(%sp)
  64 007a 4EBA FFA6 		jsr printCharToACIA
  65 007e 588F      		addq.l #4,%sp
  66               	.L5:
  67 0080 202E FFFC 		move.l -4(%fp),%d0
  68 0084 206E 0008 		move.l 8(%fp),%a0
  69 0088 D1C0      		add.l %d0,%a0
  70 008a 1010      		move.b (%a0),%d0
  71 008c 4A00      		tst.b %d0
  72 008e 66D4      		jne .L6
  73 0090 4E71      		nop
  74 0092 4E71      		nop
  75 0094 4E5E      		unlk %fp
  76 0096 4E75      		rts
  77               		.size	printStringToACIA, .-printStringToACIA
  78               		.align	2
  79               		.globl	printCharToVDU
  80               		.type	printCharToVDU, @function
  81               	printCharToVDU:
  82 0098 4E56 FFFC 		link.w %fp,#-4
  83 009c 202E 0008 		move.l 8(%fp),%d0
  84 00a0 1000      		move.b %d0,%d0
  85 00a2 1D40 FFFE 		move.b %d0,-2(%fp)
  86 00a6 4E71      		nop
  87               	.L8:
  88 00a8 207C 0001 		move.l #65600,%a0
  88      0040 
  89 00ae 1010      		move.b (%a0),%d0
  90 00b0 1000      		move.b %d0,%d0
  91 00b2 0280 0000 		and.l #255,%d0
  91      00FF 
  92 00b8 7202      		moveq #2,%d1
  93 00ba C081      		and.l %d1,%d0
  94 00bc 4A80      		tst.l %d0
  95 00be 67E8      		jeq .L8
  96 00c0 207C 0001 		move.l #65602,%a0
  96      0042 
  97 00c6 10AE FFFE 		move.b -2(%fp),(%a0)
  98 00ca 4E71      		nop
  99 00cc 4E5E      		unlk %fp
68K GAS  testser.s 			page 3


 100 00ce 4E75      		rts
 101               		.size	printCharToVDU, .-printCharToVDU
 102               		.align	2
 103               		.globl	printStringToVDU
 104               		.type	printStringToVDU, @function
 105               	printStringToVDU:
 106 00d0 4E56 FFFC 		link.w %fp,#-4
 107 00d4 42AE FFFC 		clr.l -4(%fp)
 108 00d8 601C      		jra .L10
 109               	.L11:
 110 00da 202E FFFC 		move.l -4(%fp),%d0
 111 00de 206E 0008 		move.l 8(%fp),%a0
 112 00e2 D1C0      		add.l %d0,%a0
 113 00e4 1010      		move.b (%a0),%d0
 114 00e6 1000      		move.b %d0,%d0
 115 00e8 0280 0000 		and.l #255,%d0
 115      00FF 
 116 00ee 2F00      		move.l %d0,-(%sp)
 117 00f0 4EBA FFA6 		jsr printCharToVDU
 118 00f4 588F      		addq.l #4,%sp
 119               	.L10:
 120 00f6 202E FFFC 		move.l -4(%fp),%d0
 121 00fa 206E 0008 		move.l 8(%fp),%a0
 122 00fe D1C0      		add.l %d0,%a0
 123 0100 1010      		move.b (%a0),%d0
 124 0102 4A00      		tst.b %d0
 125 0104 66D4      		jne .L11
 126 0106 4E71      		nop
 127 0108 4E71      		nop
 128 010a 4E5E      		unlk %fp
 129 010c 4E75      		rts
 130               		.size	printStringToVDU, .-printStringToVDU
 131               		.ident	"GCC: (GNU) 9.3.1 20200817"
68K GAS  testser.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 testser.c
           testser.s:13     .text:0000000000000000 _start
           testser.s:52     .text:000000000000005a printStringToACIA
           testser.s:105    .text:00000000000000d0 printStringToVDU
           testser.s:28     .text:0000000000000022 printCharToACIA
           testser.s:81     .text:0000000000000098 printCharToVDU

NO UNDEFINED SYMBOLS
