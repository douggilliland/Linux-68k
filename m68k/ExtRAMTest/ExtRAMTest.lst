68K GAS  ExtRAMTest.s 			page 1


   1               	* Test External SRAM
   2               	* External SRAM on the RETRO-EP4CE15 card goes from 0x300000 to 0x3FFFFF (1 MB)
   3               	* External SRAM only supports 8-bit accesses
   4               	* TUTOR14 uses SRAM from 0x000000 to 0x000800
   5               	
   6               	RAMSTART	= 0X300000
   7               	RAMEND		= 0X3FFFFF
   8               	
   9               	* Code follows
  10               	
  11 0000 0000 0000 		.ORG    0x001000
  11      0000 0000 
  11      0000 0000 
  11      0000 0000 
  11      0000 0000 
  12               	
  13               	STARTTEST:
  14 1000 207C 0030 		MOVE.L  #0x00300000,%A0
  14      0000 
  15 1006 103C 0055 		MOVE.B  #0x55,%D0
  16 100a 1080      		MOVE.B	%D0,(%A0)
  17 100c 4E71      	    NOP
  18 100e 1210      	    MOVE.B	(%A0),%D1
  19 1010 B200      	    CMP.B   %D0,%D1
  20 1012 6600 0014 	    BNE     FAIL
  21 1016 103C 00AA 		MOVE.B  #0xAA,%D0
  22 101a 1080      		MOVE.B	%D0,(%A0)
  23 101c 4E71      	    NOP
  24 101e 1210      	    MOVE.B	(%A0),%D1
  25 1020 B200      	    CMP.B   %D0,%D1
  26 1022 6600 0004 	    BNE     FAIL
  27 1026 4E71      	    NOP
  28               	FAIL:
  29 1028 4E71      	    NOP
  30 102a 4E75      		RTS
  31               		
68K GAS  ExtRAMTest.s 			page 2


DEFINED SYMBOLS
        ExtRAMTest.s:6      *ABS*:0000000000300000 RAMSTART
        ExtRAMTest.s:7      *ABS*:00000000003fffff RAMEND
        ExtRAMTest.s:13     .text:0000000000001000 STARTTEST
        ExtRAMTest.s:28     .text:0000000000001028 FAIL

NO UNDEFINED SYMBOLS
